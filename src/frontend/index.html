<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DCA Compliance Dashboard</title>

  <!-- Link external CSS -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <header>
    <h1>Compliance-Aware Debt Collection Dashboard</h1>
    <p>Proactive Regulatory Compliance Monitoring</p>
  </header>

  <div class="container">

    <div class="card">
      <h3>System Overview</h3>
      <p>
        This dashboard evaluates debt collection cases against predefined
        regulatory compliance rules to detect violations proactively.
      </p>
    </div>

    <div class="card">
      <h3>Compliance Check</h3>
      <p>
        Click the button below to run a compliance evaluation on sample case data.
      </p>
      <button onclick="runCompliance()">Run Compliance Check</button>
<p id="loading" style="display:none;">Evaluating compliance rules...</p>

    </div>

<div class="card" id="results" style="display:none;">
  <h3>Compliance Results</h3>
  <label>
  <input type="checkbox" id="filterToggle" onchange="showResults()">
  Show only non-compliant cases
</label>
  <div id="results-content"></div>
</div>
    

  </div>

  <footer>
     Compliance Analytics System
  </footer>

  <script>
  function runCompliance() {
    document.getElementById("loading").style.display = "block";

    setTimeout(() => {
      document.getElementById("loading").style.display = "none";
      showResults();
    }, 1200);
  }

  function showResults() {
    const results = [
      {
        case_id: "C001",
        agent: "Agent A",
        compliant: true,
        violations: []
      },
      {
        case_id: "C002",
        agent: "Agent B",
        compliant: false,
        violations: [
          "Exceeded maximum follow-up limit",
          "Contacted customer outside permitted hours"
        ]
      }
    ];

    const resultsDiv = document.getElementById("results");
    const content = document.getElementById("results-content");
    content.innerHTML = "";

    const filterOn = document.getElementById("filterToggle")?.checked;

results.forEach(r => {
  if (filterOn && r.compliant) return;

      const badgeClass = r.compliant ? "green" : "red";
      const badgeText = r.compliant ? "Compliant" : "Non-Compliant";

      let violationsHtml = "";
      if (!r.compliant) {
        violationsHtml = `
          <ul class="violations">
            ${r.violations.map(v => `<li>${v}</li>`).join("")}
          </ul>
        `;
      }

      content.innerHTML += `
        <div class="case">
          <strong>${r.case_id}</strong> â€” ${r.agent}
          <span class="badge ${badgeClass}">${badgeText}</span>
          ${violationsHtml}
        </div>
      `;
    });

    resultsDiv.style.display = "block";
  }
</script>






</body>
</html>
